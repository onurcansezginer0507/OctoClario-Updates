getwd()
library(shiny); source('run_shiny.R')
choose.files()
source('run_shiny.R')
library(shiny); source('run-shiny.R')
base_path <- if (grepl("app\\.asar", getwd())) {
# In packaged app: use app.asar.unpacked location
file.path(dirname(getwd()), "app.asar.unpacked")
} else {
# Dev mode
getwd()
}
# Path to shiny app folder
app_dir <- file.path(base_path)
source('run-shiny.R')
# Determine whether running inside asar or asar.unpacked
base_path <- if (grepl("app\\.asar", getwd())) {
file.path(dirname(getwd()), "app.asar.unpacked")
} else {
getwd()
}
app_dir <- file.path(base_path, "shiny-app")
if (!dir.exists(app_dir)) {
cat(">>>ERROR_START<<< Shiny app folder not found: ", app_dir, "\n")
flush.console()
stop("App directory missing")
}
port <- httpuv::randomPort()
cat(">>>PORT:", port, "\n")
flush.console()
shiny::runApp(app_dir, host = "127.0.0.1", port = port, launch.browser = FALSE)
